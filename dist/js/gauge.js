!function(t,i){function s(t){if(console.log(t),this.options=e,t)for(var s in t)this.options[s]=t[s];console.log(this.options),this.element=i.getElementById("container"),this.element.innerHTML="",this._init()}var e={width:620,height:500,maxRangeAngle:285,rangeRadius:180,indicatorSpindleRadius:10,indicatorArrowLength:8,indicatorArrowWidth:200,scaleMin:2,scaleMax:8,scalePosition:"outside",scaleMajorTickInterval:1,scaleMajorTickOffset:-10,scaleMajorTickLength:-5,scaleMinorTickLength:-2,scaleMinorTickInterval:.1,scaleTextTickOffsetTop:-5,scaleTextTickOffsetLeft:0,scaleDefaultColor:"#666",scaleText:{},scaleColors:[]};s.prototype._init=function(){{var t={x:this.options.width.toFixed(6)/2,y:this.options.height.toFixed(6)/2},s=this.options.maxRangeAngle/2-180-this.options.maxRangeAngle;s+this.options.maxRangeAngle}this.svg=i.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.setAttributeNS(null,"width",this.options.width),this.svg.setAttributeNS(null,"height",this.options.height),this.svg.setAttributeNS(null,"class","gauge");var e=this.options.maxRangeAngle/(this.options.scaleMax-this.options.scaleMin).toFixed(6),o=this.options.scaleMajorTickInterval*e,n=this.options.scaleMinorTickInterval*e,a=this.options.scaleMajorTickOffset,r=this.options.scaleMajorTickLength,l=30;if("outside"!=this.options.scalePosition)var a=-this.options.scaleMajorTickOffset,r=-this.options.scaleMajorTickLength,l=-30;for(var h=0,c=s,p=this.options.scaleMin;p.toFixed(6)<=this.options.scaleMax.toFixed(6);p+=this.options.scaleMinorTickInterval){p=+p.toFixed(6);var u=s+h*o;if((p.toFixed(6)-this.options.scaleMin).toFixed(6)%this.options.scaleMajorTickInterval.toFixed(6)==0){var d=-u*Math.PI/180;text=Math.round(100*p)/100,this.options.scaleText[p.toFixed(6)]&&(text=this.options.scaleText[p.toFixed(6)]),this.drawLine(t.x,t.y-this.options.rangeRadius+a,t.x,t.y-this.options.rangeRadius+a+r,"rotate("+(u-180)+","+t.x+","+t.y+")",this.svg).setAttribute("class","major-thick"),this.drawText(t.x+(this.options.rangeRadius+l)*Math.sin(d)-this.options.scaleTextTickOffsetLeft,t.y+(this.options.rangeRadius+l)*Math.cos(d)-this.options.scaleTextTickOffsetTop,text,this.svg).setAttribute("class","text");var g=this.options.scaleColors.filter(function(t){return p.toFixed(6)>=t.from&&p.toFixed(6)<t.till}),x=this.options.scaleDefaultColor;if(g.length>0)var x=g[0].color;p!=this.options.scaleMax&&this.drawPartOfCircle(t.x,t.y,this.options.rangeRadius,-u,-u-o,x,this.svg),h++}else{var w=this.getPointOnCircle(t.x,t.y,this.options.rangeRadius-a,-c);this.drawLine(w.x,w.y,w.x,w.y+this.options.scaleMinorTickLength,"",this.svg).setAttribute("class","minor-thick")}c+=n}this.drawIndicator(t.x,t.y,this.svg),this.element.appendChild(this.svg)},s.prototype.getPointOnCircle=function(t,i,s,e){return{x:t+s*Math.sin(Math.PI*e/180),y:i+s*Math.cos(Math.PI*e/180)}},s.prototype.drawScale=function(t,i,s,e,o){var n=this.options.scaleMajorTickOffset,a=this.options.scaleMajorTickLength,r=30;if("outside"!=this.options.scalePosition)var n=-this.options.scaleMajorTickOffset,a=-this.options.scaleMajorTickLength,r=-30;if((e-this.options.scaleMin).toFixed(6)%this.options.scaleMajorTickInterval==0){var l=-s*Math.PI/180;this.drawLine(t,i-this.options.rangeRadius+n,t,i-this.options.rangeRadius+n+a,"rotate("+(s-180)+","+t+","+i+")",o).setAttribute("class","major-thick"),text=Math.round(100*e)/100,this.options.scaleText[Math.round(100*e)/100]&&(text=this.options.scaleText[Math.round(100*e)/100]),this.drawText(t+(this.options.rangeRadius+r)*Math.sin(l)-this.options.scaleTextTickOffsetLeft,i+(this.options.rangeRadius+r)*Math.cos(l)-this.options.scaleTextTickOffsetTop,text,o).setAttribute("class","text")}else this.drawLine(t,i-this.options.rangeRadius+n,t,i-this.options.rangeRadius+n+this.options.scaleMinorTickLength,"rotate("+(s-180)+","+t+","+i+")",o).setAttribute("class","minor-thick")},s.prototype.drawIndicator=function(t,s,e){var o=i.createElementNS("http://www.w3.org/2000/svg","g");o.setAttribute("class","indicator-group"),o.setAttributeNS(null,"transform","translate(0, 0) rotate("+(-this.options.maxRangeAngle/2).toFixed(6)+","+t+","+s+")"),this.drawCircle(t,s,this.options.indicatorSpindleRadius,o).setAttribute("class","spindle"),this.drawArrow(t,s,o),e.appendChild(o)},s.prototype.drawPartOfCircle=function(t,i,s,e,o,n,a){var r=this.getPointOnCircle(t,i,s,e),l=this.getPointOnCircle(t,i,s,o);this.drawArc(r,l,s,n,a).setAttributeNS(null,"classname","stroke-section")},s.prototype.drawArc=function(t,s,e,o,n){var a;return a=i.createElementNS("http://www.w3.org/2000/svg","path"),a.setAttributeNS(null,"d","M"+t.x+","+t.y+" A"+e+","+e+" 1 0,1 "+s.x+","+s.y),a.setAttributeNS(null,"stroke-width",3),a.setAttributeNS(null,"opacity",1),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"stroke",o),n.appendChild(a),a},s.prototype.drawCircle=function(t,s,e,o){var n=i.createElementNS("http://www.w3.org/2000/svg","circle");return n.setAttributeNS(null,"cx",t),n.setAttributeNS(null,"cy",s),n.setAttributeNS(null,"r",e),o.appendChild(n),n},s.prototype.drawArrow=function(t,s,e){var o=i.createElementNS("http://www.w3.org/2000/svg","path"),n="M"+(t-this.options.indicatorArrowLength/2).toFixed(6)+" "+s+" ";n+="L"+t+" "+(s-this.options.indicatorArrowWidth).toFixed(6)+" ",n+="L"+(t+this.options.indicatorArrowLength/2).toFixed(6)+" "+s+" ",n+="z",o.setAttributeNS(null,"d",n),o.setAttribute("class","arrow"),e.appendChild(o)},s.prototype.drawLine=function(t,s,e,o,n,a){var r=i.createElementNS("http://www.w3.org/2000/svg","line");return r.setAttributeNS(null,"x1",t),r.setAttributeNS(null,"y1",s),r.setAttributeNS(null,"x2",e),r.setAttributeNS(null,"y2",o),r.setAttributeNS(null,"transform",n),a.appendChild(r),r},s.prototype.drawText=function(t,s,e,o){var n=i.createElementNS("http://www.w3.org/2000/svg","text");return n.setAttributeNS(null,"x",t),n.setAttributeNS(null,"y",s),o.appendChild(n).textContent=e,n},s.prototype.setValue=function(t){var i={x:this.options.width.toFixed(6)/2,y:this.options.height.toFixed(6)/2};t>this.options.scaleMax&&(t=this.options.scaleMax),t<this.options.scaleMin&&(t=this.options.scaleMin);var s=this.options.scaleMax-this.options.scaleMin,e=this.options.maxRangeAngle*(t-this.options.scaleMin)/s,o=this.svg.getElementsByClassName("indicator-group")[0];o.setAttributeNS(null,"transform","translate(0, 0) rotate("+(-this.options.maxRangeAngle/2+e)+","+i.x+","+i.y+")")},t.Gauge=s}(window,document);